L0: # Cvičení 2 - Pravděpodobnost
L1: ## Adéla Vrtková, Michal Béreš, Martina Litschmannová 
L2: V tomto cvičení projdeme úvod do pravděpodobnosti. Předpokládáme znalosti z přednášky, především pojmy: **definice pravděpodobnosti, podmíněná pravděpodobnost, věta o úplné pravděpodobnosti, Bayesova věta**. 
L3: # Pomocné funkce
L4: ## Úplná pravděpodobnost
L5: $P(A)=\sum_{i=1}^{n}P(B_i)P(A|B_i)$
L6:  spočítání pravděpodobnosti P(A) - věta o úplné pravděpodobnosti
L7:  uvažujeme P_B jako vektor hodnot P(B_i) a P_BA jako vektor hodnot P(A|B_i)
L8: ## Bayesova věta
L9: $P(B_k|A)=\frac{P(B_k)P(A|B_k)}{\sum_{i=1}^{n}P(B_i)P(A|B_i)}$
L10:  spočítání podmíněné pravděpodobnosti P(B_k|A) - Bayesova věta
L11:  uvažujeme P_B jako vektor hodnot P(B_i), P_BA jako vektor hodnot P(A|B_i)
L12: **Přidáme funkce z munulého cvičení pro počítání kombinatorických výběrů, jsou v skriptu kombinatorika.R**
L13: # Příklady
L14: ## Příklad 1.
L15: Určete pravděpodobnost, že při hodu 20stěnnou spravedlivou (férovou) kostkou padne číslo větší než 14.
L16:  pravděpodobnost jako podíl příznivých ku všem 
L17: ## Příklad 2.
L18: Určete pravděpodobnost, že při hodu 20stěnnou kostkou padne číslo větší než 14, víte-li, že sudá čísla padají 2x častěji než lichá.
L19: pravdepodobnost je
L20: ## Příklad 3.
L21: Určete pravděpodobnost, že ve sportce uhodnete 4 čísla. (Ve sportce se losuje 6 čísel ze 49.)
L22: ## Příklad 4.
L23: Z abecedního seznamu studentů zapsaných na dané cvičení vybere učitel prvních 12 a nabídne jim sázku: „Pokud se každý z Vás narodil v jiném znamení zvěrokruhu, dám každému z Vás 100 Kč. Pokud jsou však mezi Vámi alespoň dva studenti, kteří se narodili ve stejném znamení, dá mi každý z Vás 100 Kč.“ Vyplatí se studentům sázku přijmout? S jakou pravděpodobností studenti vyhrají?
L24: ## Příklad 5.
L25: Spočtěte pravděpodobnost toho, že z bodu 1 do bodu 2 bude protékat elektrický proud, je-li část el. obvodu včetně pravděpodobnosti poruch jednotlivých součástek vyznačen na následujícím obrázku. (Poruchy jednotlivých součástek jsou na sobě nezávislé.) ![image.png](attachment:image.png)
L26:  rozdělíme na bloky I=(A,B) a II=(C,D,E)
L27:  výsledek
L28: ## Příklad 6.
L29: Ohrada má obdélníkový tvar, východní a západní stěna mají délku 40 m, jižní a severní pak 100 m. V této ohradě běhá kůň. Jaká je pravděpodobnost, že je k jižní stěně blíž než ke zbývajícím třem?
L30:  geometrická pravděpodobnost
L31: blize k jihu
L32: pravdepodobnosti
L33: ## Příklad 7.
L34: U pacienta je podezření na jednu ze čtyř vzájemně se vylučujících nemocí - N1, N2, N3, N4 s pravděpodobností výskytu P(N1)=0,1; P(N2)=0,2; P(N3)=0,4; P(N4)=0,3. Laboratorní zkouška A je pozitivní v případě první nemoci v 50 % případů, u druhé nemoci v 75 % případů, u třetí nemoci v 15 % případů a u čtvrté v 20 % případů. Jaká je pravděpodobnost, že výsledek laboratorní zkoušky bude pozitivní?
L35:  věta o úplné pravděpodobnosti
L36:  P(N1), P(N2), ...
L37:  P(P|N1), P(P|N2), ... 
L38:  P(P)
L39: ## Příklad 8.
L40: Telegrafické znaky se skládají ze signálů „tečka“, „čárka“. Je statisticky zjištěno, že se zkomolí 25 % sdělení „tečka“ a 20 % signálů „čárka“. Dále je známo, že signály se používají v poměru 3:2. Určete pravděpodobnost, že byl přijat správně signál, jestliže byl přijat signál „tečka“.
L41:  Bayesova věta
L42:     P(O.),    P(O-)
L43:  P(P.|O.), P(P.|O-)
L44:  k = 1 protože správně = O.
L45: ## Příklad 9.
L46: V jednom městě jezdí 85 % zelených taxíků a 15 % modrých. Svědek dopravní nehody vypověděl, že nehodu zavinil řidič modrého taxíku, který pak ujel. Testy provedené za obdobných světelných podmínek ukázaly, že svědek dobře identifikuje barvu taxíku v 80 % případů a ve 20 % případů se mýlí.
L47:  - Jaká je pravděpodobnost, že viník nehody skutečně řídil modrý taxík?
L48:  - Následně byl nalezen další nezávislý svědek, který rovněž tvrdí, že taxík byl modrý. Jaká je nyní pravděpodobnost, že viník nehody skutečně řídil modrý taxík?
L49:  - Ovlivní pravděpodobnost, že viník nehody skutečně řídil modrý taxík to, zda dva výše zmínění svědci vypovídali postupně nebo najednou?
L50:  a) opět Bayesova věta
L51:     P(Z),    P(M) 
L52:  P(SM|Z), P(SM|M) 
L53:  modrý je druhý
L54:  b) první možnost - druhý průchod Bayesem
L55:      P(Z),     P(M) 
L56:  P(S2M|Z), P(S2M|M) 
L57:  c) nebo odpověděli najednou 
L58:          P(Z),         P(M) 
L59:  P(S1M&S2M|Z), P(S1M&S2M|M) 
L60: ## Příklad 10.
L61: Potřebujeme zjistit odpověď na určitou citlivou otázku. Jak odhadnout, kolik procent dotazovaných na otázku odpoví ANO a přitom všem respondentům zaručit naprostou anonymitu? Jedním z řešení je tzv. dvojitě anonymní anketa:<br> Necháme respondenty hodit korunou a dvojkorunou a ti, kterým padl na koruně líc napíšou na lísteček odpověď (ANO/NE) na citlivou otázku. Ostatní respondenti napíší, zda jim padl na dvojkoruně líc (ANO/NE). Jakým způsobem určíme podíl studentů, kteří na citlivou otázku odpověděli ANO?<br> Předpokládejme, že respondenti byli dotazování, zda podváděli u zkoušky. Z anketních lístků se zjistilo, že „ANO“ odpovědělo 120 respondentů a „NE“ odpovědělo 200 respondentů. Kolik procent studentů podvádělo u zkoušky?
L62:  věta o úplné pravděpodobnosti 
L63:  P(A) = P(K_lic)*P(A|K_lic)+P(K_rub)*P(D_lic|K_rub)
L64:  rovnice 120/320=0.5*x+0.5*0.5
L65: ## Bonus - Monty Hall Problem
L66:  Začneme s vygenerováním n instancí soutěže - cena bude náhodný index dveří (1,2,3) za kterými se může nacházet cena
L67:  počet pokusů
L68:  náhdný výběr dveří
L69:  head vykresli prvních 6 prvků/řádků
L70: Totéž pro naši původní volbu - náhodný index dveří.
L71:  původní volba
L72: V prvním kole moderátor jedny prázdné dveře otevře, takto se to dá nasimulovat:
L73:  inicializace vektoru
L74:  pomocná proměnná - identifikátory dveří
L75:  inicializace 
L76:  nesmíme otevřít dveře s cenou
L77:  ani naše vybrané dveře
L78:  ve zbytku jsou buď 2 (pokud jsme se trefili) nebo 1 dveře (pokud ne)
L79:  pokud jedny otevřeme je
L80:  pokud 2 tak jedny náhodně vybereme a otevřeme je
L81: Naše nová volba pokud se tak rozhodneme - součet indexů je 1+2+3=6 takže pokud my máme vybraný nějaký index, dále nějaký index se otevře, tak do zbytku 6 jsou ty třetí = naše nová volba.
L82: Úspěšnost při originální volbě:
L83: Úspěšnost při výměně:
